# 字段命名与中文展示规范

目的：确保**英文字段代码**与**中文展示名**一致可追溯，避免权限配置只显示英文导致客户不可用。

## 1) 基本规范

- 字段代码：统一使用 **snake_case 英文**（如 `employee_no`）
- 中文展示名：必须写入**数据库字段注释**或**动态列配置**中
- 权限列展示：统一从数据库视图 `v_field_labels` 读取中文

## 2) 静态字段（数据库表字段）

必须在数据库中写入中文注释：

```sql
comment on column hr.archives.employee_no is '工号';
```

系统会通过 `v_field_labels` 读取 `col_description` 作为中文名。

## 3) 动态字段（系统配置列）

动态列必须带中文 label：

```json
{ "prop": "id_card", "label": "身份证" }
```

系统会从 `system_configs` 中读取 label。

## 4) 权限列展示来源

`public.v_field_labels` 合并来源优先级：

1. 动态列 label（system_configs）
2. 数据库字段注释（comment）

未命名字段将展示为 **“未命名字段”**，不显示英文代码。

## 5) 开发约束（必须遵守）

- 新增表字段：必须补中文注释
- 新增动态列：必须填写 label
- 禁止在权限页直接编辑 `field_code/module/role_id`

## 6) 典型示例

| 字段代码 | 中文名 |
|---|---|
| employee_no | 工号 |
| base_salary | 基础工资 |
| att_date | 日期 |
| overtime_minutes | 加班分钟 |

